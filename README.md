# MTS Kata "Firmware Management «Skynet»" от команды №5

- [Наша команда](#команда)
- [Вводные](#вводные)
- [Бизнес цели](#бизнес-цели)
- [Бизнес требования](#бизнес-требования) 
- [Сценарии](#сценарии)
- [Архитектура](#архитектура)
    -   [Контекст системы](#контекст-системы)
 


## Команда
- Алан Кудухов alan.kuduhov@mts.ru 
- Илья Колесников igkolesn@mts.ru
- Марина Кондакова makondak@mts.ru
- Михаил Овчинников moovchi1@mts.ru
- Павел Григорьев pagrigorev@mts.ru
- Полина Шилова polina.shilova@mts.ru

## Вводные
Решение Умный дом/IoT - это не только разнообразные датчики, лампочки и розетки, но еще и устройства с установленными на борту прошивками (firmware). У каждого устройства есть прошивка со своим жизненным циклом, набором зависимостей и совместимостей с программно-аппаратной частью.

В кейсе рассматриваются следующие типы устройств:
- Умные роутеры – содержат ЦУД "сердце" Умного дома, к которому по протоколу ZigBee подключаются лампочки, розетки, пульты, реле управления и другие устройства
- Умные колонки – ассистент с функцией голосового помощника
- Цельсиум – автономные датчики параметров окружающей среды с возможностью отправлять данные по энергоэффективному протоколу NB-IoT

Мир не стоит на месте. Устройства постоянно совершенствуются, появляются новые функциональности, которые могут быть несовместимы с прошивками существующих девайсов. 
На фоне роста популярности темы Умного дома нам приходится обгонять конкурентов, обеспечивая стабильную работу сервисов и предлагая новые фичи. Поэтому необходимо обновлять прошивки уже существующих устройств и делать это крайне аккуратно. Например, обновить прошивку только на устройствах фокус-группы, чтобы прощупать интерес клиента. А при обновлении для массовых пользователей стоит о задуматься, в какое время суток обновление не создаст неудобств. Разумеется, нет ничего идеального, возможны ошибки, при которых придется экстренно и массово выкатывать хотфикс. Производство масштабируется, несколько фич-команд разрабатывают свои девайсы.
Мы планируем в обозримом будущем подключать по 15 тысяч устройств каждого типа на территории всей РФ. Размеры прошивок варьируются от 256кБ для Цельсиума до десятка-ов Мбайт (не более 128 МБ) для роутера и колонки. Цельсиум получает обновления пакетами по 512 байт в теле POST запроса.

###Задача
Необходимо спроектировать функциональность Firmware Management «Skynet», реализующую описанные бизнес-сценарии

## Бизнес цели
1. Обеспечить процесс обновления устройств для доставки новых бизнес-фич пользователям.
2. Предоставить возможность проводить канареечное тестирование новых бизнес фич, поставляемых вс прошивкой устройства.
3. Обновлять устройства не создавая дискомфорта пользователям.
4. Иметь возможность откатить обновления или быстро накатить фикс при обнаружении ошибок в новой версии прошивок.

## Бизнес требования
| #     | Описание                                                                                                                           |
|-------|------------------------------------------------------------------------------------------------------------------------------------|
| BR.01 |                                              |





## Сценарии
Ниже приведены архитектурно значимые сценарии.
![](UCs/UC.png)

## Требования к системе

### Функциональные требования

| #     | Cистема должна позволять                                                               | Функциональный блок                |
|-------|----------------------------------------------------------------------------------------|------------------------------------|
| FR.01 | пользователям регистрироваться и авторизовываться в системе                            | Управление ролями и пользователями |
|  
### Атрибуты качества
| #     | Атрибут качества      | Обоснование                                                                                                                        |
|-------|-----------------------|------------------------------------------------------------------------------------------------------------------------------------|
| AR.01 | 	Масштабируемость     | 	Со временем объём хранимых в системе данных будет увеличиваться. Будет расти количество устройств и количество хранимых прошивок. |



## Архитектура

### Легенда
![](C4/Legend.png)
### Контекст системы
![](C4/L1.png)
### Контейнерная диаграмма
![](C4/L2.png)