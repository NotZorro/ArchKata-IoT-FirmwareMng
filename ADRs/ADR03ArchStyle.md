# ADR.03 Выбор архитектурного стиля

Для выбора архитектурного стиля необходимо провести анализ, как базовые архитектурные стили удовлетворяют ключевым атрибутам качества.*    

| #                    | Layered | Modular | Micro-kernel | Microservices | Service-based | Service-oriented | Event-driven | Space-based |
|----------------------|---------|---------|--------------|---------------|---------------|------------------|--------------|-------------|
| Масштабируемость     | 	1      | 	1      | 	1           | 	5            | 	3            | 	3               | 	5           | 	5          |
| Эластичность         | 	1      | 	1      | 	1           | 	5            | 	2            | 	3               | 	4           | 	5          |
| Устойчивость к сбоям | 	1      | 	1      | 	1           | 	5            | 	4            | 	3               | 	5           | 	3          |
| Гибкость             | 1       | 2       | 3            | 5             | 4             | 1                | 3            | 2           |		
| Эволюционируемость   | 1       | 1       | 3            | 5             | 3             | 1                | 5            | 3           |								
| Безопасность**       | 	-      | 	-      | 	-           | 	-            | 	-            | 	-               | 	-           | 	-          |
| **Итоговая оценка**  | 	5      | 	6      | 	9           | 	**25**       | 	16           | 	11              | 	**22**      | 	18         |

В результате отбора выявлены два подходящих стиля построения архитектуры: микросервисный и event-driven. Эти стили не являются взаимоисключаемыми.
Основные преимущества микросервисного подхода в гибкости разработки и эластичности. Однако, требования по элатичночти критичны не для всех капабилити решения, а только для Firmware Uploader и потенциально для Firmware Catalog.
Итоговое решение об используемом стиле было принято с учетом принятого решения использовать концепцию Packaged Business Capability (см. ADR.02):

1. Проектируемая система (как совокупность capability) строится по принципам event-driven архитектуры;
2. Каждая capability может проектироваться в своем стиле, но основная рекомендация - использование микросервисной архитектуры. 

## Преимущества решения
1. Имеет один из лучших скоринговых баллов по атрибутам качества.
2. Оставляет гибкость для команд капабилити в выборе подхода проектирования.

## Риски решения
1. Использование event-driven подхода приведет к возрастанию стоимости решения.
2. Использование event-driven подхода усложнит развертывание решения.
3. Использование event-driven подхода усложнит конфигурирования решения.

*Источник данных для таблицы: https://www.developertoarchitect.com/downloads/architecture-styles-worksheet.pdf
**Выполнение требований по безопасности не зависит от архитектурного стиля. Необходимая степень безопасности может быть достигнута при любом из них. 


